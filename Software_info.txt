[noisy,denoised,deblurred] = processData(inputPath,outputPath,processingType,optionalParams)

INPUT:
    inputPath: path to the signle-channel gray-scale multipage TIFF to be processed
    outputPath: path where to store the signle-channel gray-scale multipage TIFF output
    processingType [string]: processing block to be applied to the input ('noiseEst','denoising','all')
    optionalParams: optional parameters to be specified in case we need to use only a specific processing block

OUTPUT:
    noisy: noisy data read from inputPath
    denoised: denoised data (if denoising is executed, otherwise empty)
    deblurred: deblurred data (if deblurring is executed, otherwise empty)

*----------------------------------------------------------------------------------------------------------------------------------*

NOISE ESTIMATION PARAMETERS

optionalParams.noiseParamsPath is the path where the user wants the noise parameters to be saved. They will be saved in mat format and can be loaded in Matlab afterwards. The parameters will be saved as affine noise parameters (a and b), and a noise PSD.
NOTE: If processingType is set to 'noiseEst' and optionalParams.noiseParamsPath is not specified the noise parameters are saved in working folder as 'noiseParameters.mat'

*----------------------------------------------------------------------------------------------------------------------------------*

DENOISING PARAMETERS

optionalParams.filterStrenght: adjusts the filter strenght. 
optionalParams.filterStrenght is a positive scalar double that will be used to adjust the filter strenght. It is indepepndent from optionalParams.maxBinSize (see below), and it is applied to each denoising scale.
0 corresponds to no denoising, 1 corresponds to standard denoising, >1 corresponds to strong denoising

optionalParams.maxBinSize: is the bin size (positive scalar integer) corresponding to the smallest scale (in multiscale processing) used for denoising. 
optionalParams.maxBinSize should be set to 1 most of the time. In case the noise is very strong, and the underlying noise-free signal is barely visible, then we recommend optionalParams.maxBinSize > 1.
NOTE: optionalParams.maxBinSize must be odd and smaller or equal than 5; if not, the algorithm automatically converts it to the smallest odd value closest to the input and larger or equal than 1.
For 'ordinary' noise strength (e.g., noise variance smaller than half of the data's dynamic range) optionalParams.maxBinSize=1 is recommended. 
For 'strong' noise strength (e.g., noise variance between half and the data's dynamic range) optionalParams.maxBinSize=3 is recommended. 
For 'very strong' noise strength (e.g., noise variance larger than the data's dynamic range) optionalParams.maxBinSize=5 is recommended.
If optionalParams.maxBinSize is not specified, the algorithm will estimate it internally.

*----------------------------------------------------------------------------------------------------------------------------------*

DEBLURRING PARAMETERS

optionalParams.deblurringStrenght: adjusts the deblurring PSF width. Only used if optionalParams.PSF is not specified.
optionalParams.deblurringStrenght is a strictly positive scalar double that will be used to adjust the width of the default PSF used for deblurring.

optionalParams.PSF: is the PSF to be used for deblurring. If given as input it overwrites the default isotropic PSF and it disables any optionalParams.deblurringStrenght given as input.

*----------------------------------------------------------------------------------------------------------------------------------*

Processing block:
1) noise estiation + denoising + deblurring: 'all' [default]
2) automatic noise parameters estimation: 'noiseEst'
3) noise estiation + denoising: 'denoising'